<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/Users/kushagra/Desktop/CS455_Stuff/CS455_Tinker/src/StackNServe/Shared/Sauces_Select.razor</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
&lt;style&gt;
    @@import url(&#39;https://fonts.googleapis.com/css2?family=Cedarville+Cursive&amp;family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap&#39;);
    .SaucesSelect
    {
        display: flex;
        flex-direction: row;
    }
    .SaucesToggleButton
    {
        background-color: #FFCBA2;
        width: 120px;
        height: 120px;
        border-radius: 50%;
        border: 1px solid #E38282;
    }

    .SaucesToggleButton:hover
    {
        background-color: rgb(208, 168, 221);
        transition: 0.5s;
    }

    .Sauces_Select_Image 
    {
        padding-left: 10px;
        padding-top: 12px;
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
    }

    .ClickExpandMenu
    {
        z-index: 1000;
        background-color: #fce1cc;
        position: absolute;
        align-items: center;
        margin-left: 10rem;
        margin-top: 1.5rem;
        padding: 5px;
        padding-left: 25px;
        border-radius: 15px;
        list-style-type: none;
        display: flex;
        flex-direction: row;
        animation: 0.5s;
    }

    .ClickExpandMenu li
    {
        z-index: 1000;
        margin-right: 10px;
    }

    .ImageSmallCircular
    {
        width: 60px;
        height: 60px;
        border-radius: 50%; 
        object-fit: cover; 
    }
    .HoverInfo 
    {
        z-index: 2000;
        text-align: center;
        font-family:&quot;Cedarville Cursive&quot;, cursive;
        position: absolute;
        background-color: white;
        border: 1px solid #ccc;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        top: 70px;
        left: 0;
        width: 200px;
    }
    .HoverInfoHeading
    {
        color:#E36565;
    }
    .HoverInfoPrice
    {
        color:#E36565;
    }
&lt;/style&gt;

@using StackNServe.Services
@using StackNServe.Models

@inject GlobalStringListService StringListService
@inject SelectionButtonService SelectionButtonService

&lt;div class = &quot;SaucesSelect&quot;&gt;
    &lt;button @onclick=&quot;ToggleMenu&quot; class = &quot;SaucesToggleButton&quot;&gt;
        &lt;div class=&quot;SaucesIconContainer&quot;&gt;
            &lt;img src=&quot;images/Sauces_Select.png&quot; alt=&quot;Sauces Select&quot; class=&quot;Sauces_Select_Image&quot; /&gt;
        &lt;/div&gt;
    &lt;/button&gt;
    @if (isExpanded)
    {
        // set the z dimesion of the div to 1000 to make it appear on top of the other elements
        &lt;ul class = &quot;ClickExpandMenu&quot;&gt;
            @foreach (var item in SaucesImages.Select((Sauces, index) =&gt; new { Sauces, index }))
            {
                &lt;li @onmouseenter=&quot;() =&gt; Display_Info(item.Sauces)&quot; @onmouseleave=&quot;ClearHoverInfo&quot; @onclick=&quot;() =&gt; AddToBurger(item.Sauces)&quot;&gt;
                    &lt;img src=&quot;@item.Sauces&quot; class=&quot;ImageSmallCircular&quot; alt=&quot;Bun&quot; /&gt;
                    @if (currentHoverInfo != null &amp;&amp; currentHoverPatty == item.Sauces)
                    {
                        &lt;div class=&quot;HoverInfo&quot; style=&quot;margin-left:@($&quot;{item.index * 4}vw&quot;)&quot;&gt;
                            &lt;h5 class=&quot;HoverInfoHeading&quot;&gt;@currentHoverInfo.Name&lt;/h5&gt;
                            &lt;p&gt;@currentHoverInfo.Description&lt;/p&gt;
                            &lt;p class=&quot;HoverInfoPrice&quot;&gt;Price: Rs. @currentHoverInfo.Price.ToString(&quot;F2&quot;)&lt;/p&gt;
                        &lt;/div&gt;
                    }
                &lt;/li&gt;
            }
            &lt;li&gt;&lt;/li&gt;
        &lt;/ul&gt;
        
    }
&lt;/div&gt;


@code
{  
    List&lt;string&gt; SaucesImages = new List&lt;string&gt;
        {
            &quot;images/Sauces/Aioli.png&quot;,
            &quot;images/Sauces/BBQSauce.png&quot;,
            &quot;images/Sauces/HotSauce.png&quot;,
            &quot;images/Sauces/Ketchup.png&quot;,
            &quot;images/Sauces/Mayo.png&quot;,
            &quot;images/Sauces/Mustard.png&quot;,
            &quot;images/Sauces/Ranch.png&quot;,
        };

    private bool isExpanded = false;
    private SaucesInfo currentHoverInfo;
    private string currentHoverPatty;
    private void Display_Info(string Sauces)
    {
        currentHoverPatty = Sauces;
        if (Sauces == &quot;images/Sauces/Aioli.png&quot;)
        {
            Aioli temp_object = new Aioli();
            currentHoverInfo = new SaucesInfo(&quot;Aioli&quot;, temp_object.Description, temp_object.Price);
        }
        else if (Sauces == &quot;images/Sauces/BBQSauce.png&quot;)
        {
            BBQSauce temp_object = new BBQSauce();
            currentHoverInfo = new SaucesInfo(&quot;BBQ Sauce&quot;, temp_object.Description, temp_object.Price);
        }
        else if (Sauces == &quot;images/Sauces/HotSauce.png&quot;)
        {
            HotSauce temp_object = new HotSauce();
            currentHoverInfo = new SaucesInfo(&quot;Hot Sauce&quot;, temp_object.Description, temp_object.Price);
        }
        else if (Sauces == &quot;images/Sauces/Ketchup.png&quot;)
        {
            Ketchup temp_object = new Ketchup();
            currentHoverInfo = new SaucesInfo(&quot;Ketchup&quot;, temp_object.Description, temp_object.Price);
        }
        else if (Sauces == &quot;images/Sauces/Mayo.png&quot;)
        {
            Mayo temp_object = new Mayo();
            currentHoverInfo = new SaucesInfo(&quot;Mayo&quot;, temp_object.Description, temp_object.Price);
        }
        else if (Sauces == &quot;images/Sauces/Mustard.png&quot;)
        {
            Mustard temp_object = new Mustard();
            currentHoverInfo = new SaucesInfo(&quot;Mustard&quot;, temp_object.Description, temp_object.Price);
        }
        else if (Sauces == &quot;images/Sauces/Ranch.png&quot;)
        {
            Ranch temp_object = new Ranch();
            currentHoverInfo = new SaucesInfo(&quot;Ranch&quot;, temp_object.Description, temp_object.Price);
        }
    }
    private void ClearHoverInfo()
    {
        currentHoverInfo = null;
        currentHoverPatty = null;
    }
    [Parameter]
    public EventCallback&lt;bool&gt; OnStateChanged { get; set; }
        
    private async Task ToggleMenu()
    {
        if(isExpanded) {
            isExpanded = false;
        }
        else {
            isExpanded = true;
            SelectionButtonService.BunSelectVar = false;
            SelectionButtonService.PattySelectVar = false;
            SelectionButtonService.SaucesSelectVar = true;
            SelectionButtonService.ToppingSelectVar = false;
            SelectionButtonService.NotifyStateChanged();
        }
        await OnStateChanged.InvokeAsync(isExpanded);
    }
    private class SaucesInfo
    {
        public string Name { get; set; }
        public string Description { get; set; }
        public decimal Price { get; set; }

        public SaucesInfo(string name, string description, decimal price)
        {
            Name = name;
            Description = description;
            Price = price;
        }
    }


    private void AddItem(string newItem)
    {
        if (!string.IsNullOrWhiteSpace(newItem))
        {
            StringListService.AddString(newItem);
            newItem = &quot;&quot;;
        }
    }

    public void AddToBurger(string sauces)
    {
        Console.WriteLine(&quot;Adding Sauce to Burger&quot;);
        // Add Patty to Burger
        currentHoverPatty = sauces;
        if(sauces == &quot;images/Sauces/Aioli.png&quot;) AddItem(&quot;Aioli&quot;);
        else if(sauces == &quot;images/Sauces/BBQSauce.png&quot;) AddItem(&quot;BBQ Sauce&quot;);
        else if(sauces == &quot;images/Sauces/HotSauce.png&quot;) AddItem(&quot;Hot Sauce&quot;);
        else if(sauces == &quot;images/Sauces/Ketchup.png&quot;) AddItem(&quot;Ketchup&quot;);
        else if(sauces == &quot;images/Sauces/Mayo.png&quot;) AddItem(&quot;Mayonnaise&quot;);
        else if(sauces == &quot;images/Sauces/Mustard.png&quot;) AddItem(&quot;Mustard&quot;);
        else if(sauces == &quot;images/Sauces/Ranch.png&quot;) AddItem(&quot;Ranch&quot;);
    }

    private System.Threading.Timer _timer;

    protected override void OnInitialized()
    {
        _timer = new System.Threading.Timer(CheckSaucesSelectVar, null, 0, 100); // Check every 100ms
    }

    private void CheckSaucesSelectVar(object state)
    {
        if (!SelectionButtonService.SaucesSelectVar &amp;&amp; isExpanded)
        {
            InvokeAsync(async () =&gt;
            {
                await ToggleMenu();
                StateHasChanged();
            });
        }
    }

    public void Dispose()
    {
        _timer?.Dispose();
    }

}
    </pre>
    <script type="text/javascript">
      highlightRanges([[99,6,99,21,1],[100,5,100,6,0],[103,14,103,21,0],[103,23,103,31,0],[103,32,103,34,0],[103,35,103,74,0],[103,74,103,95,0],[103,95,103,96,0],[104,13,104,14,0],[105,42,105,67,0],[105,116,105,140,0],[107,22,107,87,0],[108,21,108,22,0],[114,21,114,22,0],[116,13,116,14,0],[120,5,120,6,0],[126,5,135,11,1],[137,5,137,37,1],[141,5,141,6,0],[142,9,142,36,0],[143,9,143,49,0],[144,9,144,10,0],[145,13,145,45,0],[146,13,146,100,0],[147,9,147,10,0],[148,14,148,57,0],[149,9,149,10,0],[150,13,150,51,0],[151,13,151,104,0],[152,9,152,10,0],[153,14,153,57,0],[154,9,154,10,0],[155,13,155,51,0],[156,13,156,104,0],[157,9,157,10,0],[158,14,158,56,0],[159,9,159,10,0],[160,13,160,49,0],[161,13,161,102,0],[162,9,162,10,0],[163,14,163,53,0],[164,9,164,10,0],[165,13,165,43,0],[166,13,166,99,0],[167,9,167,10,0],[168,14,168,56,0],[169,9,169,10,0],[170,13,170,49,0],[171,13,171,102,0],[172,9,172,10,0],[173,14,173,54,0],[174,9,174,10,0],[175,13,175,45,0],[176,13,176,100,0],[177,9,177,10,0],[178,5,178,6,0],[180,5,180,6,0],[181,9,181,33,0],[182,9,182,34,0],[183,5,183,6,0],[185,49,185,53,0],[185,54,185,58,0],[188,5,188,6,0],[189,9,189,23,0],[189,24,189,25,0],[190,13,190,32,0],[191,9,191,10,0],[192,14,192,15,0],[193,13,193,31,0],[194,13,194,57,0],[195,13,195,59,0],[196,13,196,59,0],[197,13,197,61,0],[198,13,198,57,0],[199,9,199,10,0],[200,9,200,54,0],[201,5,201,6,0],[204,30,204,34,0],[204,35,204,39,0],[205,37,205,41,0],[205,42,205,46,0],[206,32,206,36,0],[206,37,206,41,0],[208,9,208,74,0],[209,9,209,10,0],[210,13,210,25,0],[211,13,211,39,0],[212,13,212,27,0],[213,9,213,10,0],[218,5,218,6,0],[219,9,219,49,0],[220,9,220,10,0],[221,13,221,50,0],[222,13,222,26,0],[223,9,223,10,0],[224,5,224,6,0],[227,5,227,6,0],[228,9,228,53,0],[230,9,230,36,0],[231,9,231,48,0],[231,49,231,66,0],[232,14,232,56,0],[232,57,232,78,0],[233,14,233,56,0],[233,57,233,78,0],[234,14,234,55,0],[234,56,234,75,0],[235,14,235,52,0],[235,53,235,75,0],[236,14,236,55,0],[236,56,236,75,0],[237,14,237,53,0],[237,54,237,71,0],[238,5,238,6,0],[243,5,243,6,1],[244,9,244,81,1],[245,5,245,6,1],[248,5,248,6,1],[249,9,249,67,1],[250,9,250,10,0],[251,13,252,13,0],[252,13,252,14,0],[252,14,253,17,0],[253,17,253,36,0],[253,36,254,17,0],[254,17,254,35,0],[254,35,255,13,0],[255,13,255,14,0],[255,14,255,16,0],[256,9,256,10,0],[257,5,257,6,1],[260,5,260,6,0],[261,9,261,27,0],[262,5,262,6,0]]);
    </script>
  </body>
</html>